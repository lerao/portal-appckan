(function(e){e.fn.horizontalNav=function(t){var n=e.extend({},e.fn.horizontalNav.defaults,t);return this.each(function(){function l(e){return e.innerWidth()-(parseInt(e.css("padding-left"))+parseInt(e.css("padding-right")))}function c(t,n){n=n||100;var r;e(window).resize(function(){clearTimeout(r),r=setTimeout(function(){t()},n)})}function h(){if(r.tableDisplay!=1||e.browser.msie&&parseInt(e.browser.version,10)<=7){s.css({"float":"left"}),o.css({"float":"left",width:"auto"}),f.css({"padding-left":0,"padding-right":0});var t=l(s),n=s.outerWidth(!0),c=n-t,h=l(i),p=h-c-t,d=Math.floor(p/a);o.each(function(t){var n=l(e(this));e(this).css({width:n+d+"px"})});var v=l(u)+(h-c-l(s));if(e.browser.mozilla||e.browser.msie)v-=1;u.css({width:v+"px"})}else s.css({display:"table","float":"none",width:"100%"}),o.css({display:"table-cell","float":"none"})}var t=e(this),r=e.meta?e.extend({},n,t.data()):n;if(t.is("ul"))var i=t.parent();else var i=t;i.css({zoom:"1"}).append('<div class="clearHorizontalNav">'),e(".clearHorizontalNav").css({display:"block",overflow:"hidden",visibility:"hidden",width:0,height:0,clear:"both"});var s=t.is("ul")?t:i.find("> ul"),o=s.find("> li"),u=o.last(),a=o.size(),f=o.find("> a");r.responsive===!0&&(r.tableDisplay!=1||e.browser.msie&&parseInt(e.browser.version,10)<=7)&&c(h,r.responsiveDelay),h()})},e.fn.horizontalNav.defaults={responsive:!0,responsiveDelay:10,tableDisplay:!0}})(jQuery);